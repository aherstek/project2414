<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Methodology</title>
        <!-- CSS -->
        <link rel="stylesheet" href="../style.css">
        
        <!-- Fontawesome link: Font Awesome Intro https://www.w3schools.com/icons/fontawesome_icons_intro.asp -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
        <link rel="icon" href="../media/favicon-32x32.png" type="image/png">

    </head>
    <body>
      <!-- Header and navbar for each page-->
      <!-- Header image and text -->
      <div class="header">
        <div class="headertext">
          <h1>Methodology</h1>
        </div>  
      </div>

      <!-- Navigation bar text, https://www.youtube.com/watch?v=e5wjLZzMmYM for html -->
      <div id="navbar">
        <nav>
          <ul class="nav-menu">
            <li><a href="../index.html">Home</a></li>
              <li><a id=current href="./methodology.html">Methodology</a></li>
              <li><a href="./solution.html">Final Solutions</a></li>
              <li><a href="./test.html">Test</a></li>
          </ul>
          <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>
        </nav>
      </div>
      <!-- End of header and navbar-->

       
        
        <div class="hero1">
            <div class="left1">
                <h2>School List</h2>
                <div class="View">
                    <img src="../media/schoolexcel.png" alt="School List" width="800"> 
                </div>
            </div>
            <div class="right1">
                <h2>Project Setup</h2>
                <p>Every school had at least 2 files that needed georeferencing: Floor 1 and a site plan. Schools had up to 9 Floors to complete. Over 800 floor plan files were georeferenced during this project.</p>
                <p>To keep track of the what was done to each school, a shared excel file was used. This helped make sure we didn't lose a school or do anything twice. 
                    Some columns had progress trackers which helped us stay motivated and visualize our progress.
                </p>
                <p>Pre-proccessing was done in AutoCAD Map 3D, with the installed plugin ArcGIS for AutoCAD.</p>
                <p>All necessary school files were provided by the TCDSB.</p>
                
            </div>
        </div>
   

        <div class="hero2">
            <div class="left2">
                <h2>Georeferencing</h2>
                
                <ol>
                    <li>Assign coordinate system: CSRS.UTM.ZONE17N (aka 2958)</li>
                    <li>Turn on ESRI Satellite Base Map (via ArcGIS for AutoCAD plugin)</li>
                    <li>Using Locate tool: zoom to provided school address, cut/paste .dwg floor/site plan close to school satellite imagery location</li>
                    <li>Using the Map Drafting pane: select Transform</li>
                    <ul>
                        <li>Using 2 control points (corner/edge of school walls) georeference .dwg to the school satellite image</li>
                        <li>Edit/retransform as needed until school aligns well above basemap.</li>
                    </ul>
                </ol>
            </div>
            
            <div class="right2">
                <h2>AutoCAD Map 3D: Non-Georeferenced</h2>

                
                <div class="View">
                    <img src="../media/school_1_CAD.png" alt="Initial setup">
                    <!-- <img src="../media/schoolnongeoref.png" alt="Not georeferenced building before"> 
                    <br>
                    <img src="../media/schoolgeoref.png" alt="Georeferenced building after">  -->
                </div>
            </div>
        </div>

        <div class="hero1">
            <div class="left1">
                <h2>OneDrive: File Geodatabase</h2>
                <div class="View">
                    <img src="../media/Filegdb.png" alt="onedrive file db"> 
                </div>
            </div>
            <div class="right1">
                <h2>Database</h2>
                <p>                
                <ol>
                        <li>Mutiple OneDrives were utilized to stay organized, and transfer data to and from TCDSB</li>
                        <li>.dwg files were downloaded from TCDSB OneDrive and worked on</li>
                        <li>Completed, georeferenced schools (kept in named folders) were uploaded to OneDrive created by Project 2414</li>
                        <li>Files in school folders were then QAQC'd</li>
                        <li>If edits were made, the new edit would be uploaded and old version deleted</li>
                        <li>Finalized school folders are then uploaded to new TCDSB OneDrive</li>
                        <ul>
                            <li>Ensuring naming conventions are followed (school name followed by school ID #)</li>
                            <li>Ensuring all files are accounted for (.dwg / .bak) for every floor</li>
                            <li>Ensuring georeferenced site plan is also included in school's folder</li>
                        </ul>
                </ol>
                </p>
            </div>
        </div>

        <div class="hero2">
            <div class="left2">
                <h2>CAD in ArcGIS Pro to ArcGIS Online</h2>
                <p>                
                    <ol>
                        <li>Drag CAD file into ArcGIS Pro Map</li>
                        <li>Select relevant Point and Polyline layers and update name with school# and floor#. The export to local geodatabase.</li>
                        <ul>
                            <li>Point: ROOMTAG, any fire/police or camera features</li>
                            <li>Polyline: Polyline, any fire/police or camera features</li>
                        </ul>
                        <li>To ROOMTAG, add floor number and DSB Unique ID (DSBUID) fields and populate.</li>
                        <li>Join Room Use .csv to ROOMTAG on the DSBUID field</li>
                        <li>Bring all school layers into the map.</li>
                        <ul>
                            <li>Edit/delete any stray points</li>
                            <li>Edit/delete any fields that are not needed</li>
                            <li>Apply symbology to each layer</li>
                        </ul>
                        <li>Select all school layers (1st floor to nth floor) and share as Web Layer to AGOL</li>
                    </ol>
                </p>
            </div>
            <div class="right2">
                <h2>ArcGIS Pro: Georeferenced & Export to AGOL</h2>
                <div class="View">
                    <img src="../media/School_1_Pro.png" alt="ArcGIS Pro"> 
                </div>
            </div>
        </div>

        <div class="hero1">
            <div class="left1">
                <h2>ArcGIS Pro: Cartographic Output</h2>
                <div class="View">
                    <img src="../media/3Dmap1.png" alt="onedrive file db"> 
                </div>
            </div>
            <div class="right1">
                <h2>Cartographic Output</h2>
                <ol>
                <li>The following colour scheme was created for the point/polyline data within the layers:</li>
                    <ul>
                        <li>ROOMTAG: HEX code #000000</li>
                        <li>Polyline: HEX code #A55252</li>
                        <li>Fire Safety Layers: HEX code #FF0000</li>
                        <li>Police Safety Layers: HEX code #215C98</li>
                        <li>Security Camera Layers: HEX code #00FF00</li>
                    </ul>
                <li>2D output: Static maps were created of each floor from a sample school, highlighting it's safety features and locations
                <li>3D output: Two sample schools were imported into ArcGIS Pro, using ArcScene to create 3D renders</li>
                    <ul>
                        <li>Georeferenced within ArcGIS Pro</li>
                        <li>Feature to Polygon tool used to create polygons, Adjust 3DZ to set floor height</li>
                        <li>Creating FloorNumber and FloorHeight fields, then using the Calculate tool to populate the fields accordingly</li>
                        <li>Once in SceneViewer, clicking the feature layer and set the Type to MaxHeight and the Field to FloorHeight</li>
                        <li>Once rendered, adjusted labelling/symbology as needed</li>
                        
                    </ul>
                </ol>
            </div>
        </div>

        <div class="hero2">
            <div class="left2">
                <h2>Dashboard</h2>
                 <ol>
                    <li>All ArcGIS Online web maps were QA/QC'd to ensure:</li>
                      <ul>
                        <li>Symbology was correct (following pre-determined hex codes)</li>
                        <li>Room number labels were visible from a building level</li>
                        <li>All layers grouped by floor, with it defaulting to only Floor 1 visible</li>
                        <li>Naming conventions for map titles were correct (school name followed by school ID number ex. Example School 100)</li>
                    </ul>
                    <li>Finalized web maps were placed in a AGOL group, and was uploaded to ArcGIS Instant Apps using the 'Atlas' template </li>
                    <li>The dashboard was then configured:</li>
                    <ul>
                        <li>Introduction screen to welcome user to the app</li>
                        <li>Splash screen of instructions to allow user to understand how the app works and useful tools</li>
                        <li>Widgets such as compass, zoom in/out and search on every webmap</li>
                        <li>Widgets that allow for floor plans to be toggled on and off, and transparency adjusted</li>
                        <li>Ensuring TCDSB logo and colour scheme followed throughout the app</li>
                    </ul>
                     <li>Once configuration was complete, the Instant App was published</li>
                </ol>
            </div>
            <div class="right2">
                <h2>ArcGIS Online: Atlas Instant App</h2>
                <div class="View">
                    <img src="../media/sampleDashboard.png" alt="ArcGIS Online Atlas Instant App"> 
                </div>
            </div>
        </div>        

        <script src="script.js"></script>
  
        <!-- Site footer -->
        <footer class="site-footer">
            <hr>
            <div class="row">
                <p class="copyright-text">Copyright &copy; 2024 All Rights Reserved by 
                    <a href="#">Project 2414</a>.
                </p>
            </div>
        </footer>
    </body>
</html>
